import React from 'react';
import { ChartComponent, SeriesCollectionDirective, SeriesDirective, CandleSeriesDirective, CandleSeries, Category, Tooltip, TechnicalIndicatorDirective, TechnicalIndicatorsDirective, RsiIndicatorDirective, RsiIndicator } from '@syncfusion/ej2-react-charts';

class CandlestickWithRSIChart extends React.Component {
    render() {
        return (
            <div>
                {/* Candlestick Chart */}
                <ChartComponent id='candlestick-chart' primaryXAxis={{ valueType: 'Category' }} primaryYAxis={{ title: 'Price' }}>
                    <SeriesCollectionDirective>
                        <SeriesDirective type='Candle' dataSource={getCandlestickData()} xName='Date' high='High' low='Low' open='Open' close='Close'>
                        </SeriesDirective>
                    </SeriesCollectionDirective>
                </ChartComponent>

                {/* RSI Line Graph */}
                <ChartComponent id='rsi-chart' primaryXAxis={{ valueType: 'Category' }} primaryYAxis={{ title: 'RSI' }}>
                    <TechnicalIndicatorsDirective>
                        <RsiIndicatorDirective period={14} seriesName='RSI' dataSource={getRSIData()} close='Close'>
                        </RsiIndicatorDirective>
                    </TechnicalIndicatorsDirective>
                    <SeriesCollectionDirective>
                        <SeriesDirective type='Line' width={2} xAxisName='Date' yAxisName='RSI' name='RSI' marker={{ visible: true }}></SeriesDirective>
                    </SeriesCollectionDirective>
                    <Tooltip enable={true}></Tooltip>
                </ChartComponent>
            </div>
        );
    }
}

// Dummy static data for candlestick chart
const getCandlestickData = () => {
    return [
        { Date: 'Jan', Open: 100, High: 150, Low: 90, Close: 120 },
        { Date: 'Feb', Open: 120, High: 180, Low: 110, Close: 140 },
        { Date: 'Mar', Open: 140, High: 200, Low: 130, Close: 160 },
        { Date: 'Apr', Open: 160, High: 220, Low: 150, Close: 180 },
        { Date: 'May', Open: 180, High: 250, Low: 170, Close: 200 },
        // Add more data points as needed
    ];
}

// Dummy static data for RSI line graph
const getRSIData = () => {
    return [
        { Date: 'Jan', Close: 60 },
        { Date: 'Feb', Close: 70 },
        { Date: 'Mar', Close: 80 },
        { Date: 'Apr', Close: 75 },
        { Date: 'May', Close: 85 },
        // Add more data points as needed
    ];
}

export default CandlestickWithRSIChart;
