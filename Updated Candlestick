import React, { useState } from 'react';

const Indicators = ({ selectedIndicators, setSelectedIndicators }) => {
  const [isOpen, setIsOpen] = useState(false); // State to manage dropdown visibility

  const toggleDropdown = () => {
    setIsOpen(!isOpen); // Toggle dropdown visibility
  };

  const handleSelectedItemChange = (e) => {
    const selectedItems = Array.from(e.target.selectedOptions, (option) => option.value);
    setSelectedIndicators(selectedItems); // Update selected indicators
  };

  return (
    <div className="max-w-md mx-auto p-4">
      <label
        htmlFor="indicators"
        className="block text-sm font-medium text-gray-700 cursor-pointer"
        onClick={toggleDropdown}
      >
        Choose Indicator
      </label>
      {isOpen && (
        <select
          id="indicators"
          name="indicators"
          multiple
          value={selectedIndicators}
          onChange={handleSelectedItemChange}
          className="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"
        >
          <option value="rsi">RSI</option>
          <option value="macd">MACD</option>
          <option value="obv">OBV</option>
          <option value="ena_5">EMA_5</option>
          <option value="ema_13">EMA_13</option>
          <option value="ena_26">EMA_26</option>
          <option value="wap">WAP</option>
          <option value="bb">BB</option>
        </select>
      )}
    </div>
  );
};

export default Indicators;
